#pragma config(Sensor, S1,     ultra,          sensorSONAR)
#pragma config(Sensor, S4,     color,         sensorColorNxtFULL)
//*!!Code automatically generated by 'ROBOTC' configuration wizard               !!*//

#define distance 150   // money distance
#define DIAMETER 55

float convert(float dis){

	float angle;
	angle = (55/2/DIAMETER*360);
	return angle;

}

task main()
{
	int rotation;
	int count;

	while(1){

			count =0;
		if(SensorValue(ultra) < 10){
			rotation  = (int) convert((float)distance);
			nMotorEncoderTarget[motorA] = rotation;
			nMotorEncoderTarget[motorC] = rotation;
			motor[motorA] = 40;
			motor[motorC] = 40;

			while(nMotorEncoder[motorA] < rotation);

			motor[motorA] = 40;
			motor[motorC] = 40;
			wait1Msec(2000);


		}

			else	{
			motor[motorA] = 0;
			motor[motorC] = 0;
			
			
		}
			
			if(SensorValue(color) == GREENCOLOR){

				count += 3;


			}

			else if(SensorValue(color) == BLUECOLOR){
				count += 1;


			}

			else if(SensorValue(color) == YELLOWCOLOR){
				count += 2


				}
		
				sendMessageWithParm(count);
				nxtDisplayTextLine(2,"count : %d",count);
				nxtDisplayTextLine(3,"ultra : %d",SensorValue(ultra));
				nxtDisplayTextLine(4,"color : %d",sensorvalue(color));
				wait1Msec(200);

	}


	}